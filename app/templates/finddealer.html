{% extends "base2.html" %}
{% block content %}

<body>
<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px;margin-top:60px; bg">

	 <div class="w3-half w3-container">
    <h3 style="color:black;text-align: center;"><b><i class="fa fa-addresss-book"> </i> Find a Dealer Near You.</b></h3>
      <div id="map" style="width:500px; height:500px;"></div>
      <script>
        var map, infoWindow, locations, count, marker;
        function initMap() {
          map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 35.397, lng: -95.644},
            zoom: 15
          });
          infoWindow = new google.maps.InfoWindow;


          locations = [
                  ['a', 29.698255, -95.491095, 0],
            ['a', 29.938908, -95.399725, 1],
            ['a', 29.748279, -95.342085, 2],
            ['a', 29.991972, -95.961940, 3],
            ['a', 29.747274, -95.486519, 4],
            ['a', 29.782538, -95.318726, 5],
            ['a', 29.804288, -95.267571, 6],
            ['a', 29.742601, -95.306366, 7],
            ['a', 29.850476, -95.384488, 8],
            ['a', 29.813098, -95.162358, 9],
            ['a', 30.116775, -95.232396, 10],
            ['a', 30.026453, -95.524564, 11],
            ['a', 29.914923, -95.481134, 12],
            ['a', 29.663747, -95.355650, 13],
            ['a', 29.562106, -95.348955, 14],
             ];

      	for (count=0; count<locations.length; count++) {
      		marker= new google.maps.Marker({
      			position: new google.maps.LatLng(locations[count][1], locations[count][2]), 
      			map:map,
      			title: locations[count][0]
      		});
      	
        }


  	    }
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              var pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
              };

              infoWindow.setPosition(pos);
              infoWindow.setContent('Location found.');
              infoWindow.open(map);
              map.setCenter(pos);
            }, function() {
              handleLocationError(true, infoWindow, map.getCenter());
            });
          } else {
            handleLocationError(false, infoWindow, map.getCenter());
          }

        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
          infoWindow.setPosition(pos);
          infoWindow.setContent(browserHasGeolocation ?
                                'Error: The Geolocation service failed.' :
                                'Error: Your browser doesn\'t support geolocation.');
          infoWindow.open(map);
        }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDffQOjP_RhBsNrSYUyqaQ5_xow6DnZHpc&callback=initMap">
    </script>
  </div>


  <div class="w3-half">
    <h3 style= "text-align: center; color: black;"><b>View All Dealers</b></h3>
  </div>

<!--</div>-->
</div>
</body>

{% endblock %}
